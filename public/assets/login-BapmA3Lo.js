import"./modulepreload-polyfill-B5Qt9EMX.js";import{f as l}from"./fetch-CGUiTqyx.js";document.addEventListener("DOMContentLoaded",function(){document.querySelector(".register__login a").addEventListener("click",function(o){o.preventDefault(),document.getElementById("information_dialog").showModal()}),document.querySelector(".button__login").addEventListener("click",async o=>{o.preventDefault(),console.log("Nyt logataan sisään");const t="https://hyte-server-aura.northeurope.cloudapp.azure.com/api/auth/login",n=document.querySelector(".login__form"),i={username:n.querySelector("input[name=username]").value,password:n.querySelector("input[name=password]").value},r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)};l(t,r).then(e=>{console.log(e),console.log(e.token),localStorage.setItem("token",e.token),e.token===void 0?alert("Unauth user: Käyttäjänimi tai salasana ei oikein"):(alert("Kirjautuminen onnistui."),window.location.href="kotisivu.html"),logResponse("loginResponse",`localStorage set with token value: ${e.token}`)})})});
