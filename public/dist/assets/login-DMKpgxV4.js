import"./modulepreload-polyfill-B5Qt9EMX.js";import{f as r}from"./fetch-CGUiTqyx.js";document.addEventListener("DOMContentLoaded",function(){document.querySelector(".register__login a").addEventListener("click",function(e){e.preventDefault(),document.getElementById("register_dialog").showModal()}),document.querySelector(".button__login").addEventListener("click",async e=>{e.preventDefault(),console.log("Nyt logataan sisään");const t="https://hyte-server-aura.northeurope.cloudapp.azure.com/api/auth/login",n=document.querySelector(".login__form"),i={username:n.querySelector("input[name=username]").value,password:n.querySelector("input[name=password]").value},l={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)};r(t,l).then(o=>{console.log(o),console.log(o.token),localStorage.setItem("token",o.token),o.token===void 0?alert("Unauth user: Käyttäjänimi tai salasana ei oikein"):(alert("Kirjautuminen onnistui."),window.location.href="kotisivu.html"),logResponse("loginResponse",`localStorage set with token value: ${o.token}`)})}),document.querySelector("#register_dialog form").addEventListener("submit",function(e){e.preventDefault();const t=document.getElementById("professional").value;t==="Ammattilainen"||t==="Opiskelija"?(localStorage.setItem("selectedOption",t),window.location.href="rekisteröinti.html"):alert("Valitse vaihtoehto!")})});
